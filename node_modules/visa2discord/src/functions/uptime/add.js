
const uptime = new Set();
const fetch = require('node-fetch');

let baseURL = 'https://codehelper.tejas404.tk/api/uptime/add'

module.exports = async (site, token, client) => {

    if (!site) throw new Error("[DETAILS_NOT_PROVIDED]: The Site Object was not provided!")
    if (!token) throw new Error("[DETAILS_NOT_PROVIDED]: The Token Object was not provided!")
    if (!client) throw new Error("[DETAILS_NOT_PROVIDED]: The Discord Client Object was not provided!")
  if (!client.user.id || !client.user) throw new Error("[INVALID_DETAILS]: The Discord Client Object was invalid!")
        let RESULTS;
    try {

        const response  = fetch(encodeURI(`${baseURL}?site=${site}&token=${token}&botname=${client.user.username}`))

      
             await console.log(response )
        const data = await response.json();

console.log(data);

        let FINALRESULTS = {
            result: RESULTS
        }
        return FINALRESULTS
    } catch (e) {
        console.log(`${e.message}`)
    }
}
